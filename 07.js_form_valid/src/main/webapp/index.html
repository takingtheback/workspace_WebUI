<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Javascript Form Valid</title>
<!-- css : external -->
<link type="text/css" rel="stylesheet" href="css/common_form.css">
		
<script type="text/javascript">
	window.onload = function() {
		initForm();
	}
	
	/* 폼 초기화 함수 */
	function initForm() {
		// 폼양식 > 입력항목 이름
		// document.joinForm.memberId.focus();
	
		// 폼양식 > 입력항목 id
		document.getElementById("memberId").focus();
	}
	
	/* reset button 이벤트 */
	function clickReset() {
		initForm();
	}
	
	/* 입력양식 데이터 검증 이벤트 
		1. 필수입력항목 : 아이디, 비밀번호, 비밀번호 확인
			=> 입력항목객체.value
	*/
	function checkForm() {
		// 아이디 입력 데이터 가져오기
		var memberId = document.getElementById("memberId").value;
		console.log("memberId : ", memberId.length);
		
		if(memberId == "" || memberId.trim().length == 0) {
			document.getElementById("memberId").focus;
			document.getElementById("memberIdMsg").innerHTML ="아이디를 입력하세요";
			document.getElementById("memberIdMsg").style.color = "red";
			document.getElementById("memberId").value = ""; // 사용자 입력데이터를 공백문자열 초기화
			return false; // input type ="submit"
			
		}
		memberId = memberId.trim();
		console.log("memberId : ", memberId.length);
		
		
		// 비밀번호 입력 데이터 가져오기
		var memberPw = document.joinForm.memberPw.value
		console.log("memberPw : ", memberPw);
		
		if(memberPw == "" || memberPw.trim().length == 0) {
			document.getElementById("memberPw").focus();
			document.getElementById("memberPwMsg").innerHTML ="패스워드를 입력하세요";
			document.getElementById("memberPwMsg").style.color = "red";
			document.getElementById("memberPw").value = "";
			return false; // input type ="submit"
			
		}
		memberPw = memberPw.trim();
		
		// 비밀번호 확인 입력 데이터 가져오기
		var memberPwConfirm = document.getElementById("memberPwConfirm").value;
		console.log("memberPwConfirm : ", memberPwConfirm);

		if(memberPwConfirm == "" || memberPwConfirm.trim().length == 0) {
			document.getElementById("memberPwConfirm").focus();
			document.getElementById("memberPwConfirmMsg").innerHTML ="패스워드를 입력하세요";
			document.getElementById("memberPwConfirmMsg").style.color = "red";
			document.getElementById("memberPwConfirm").value = "";
			return false; // input type ="submit"
			
		} 
		memberPwConfirm = memberPwConfirm.trim();
		
		
		// 비밀번호와 비밀번호 확인 매칭 검증
		if(memberPw != memberPwConfirm) {
			document.getElementById("memberPw").focus();
			document.getElementById("memberPwMsg").innerHTML ="패스워드가 일치하지 않습니다.";
			document.getElementById("memberPwMsg").style.color = "red";
			document.getElementById("memberPw").value = "";
			document.getElementById("memberPwConfirm").value = "";
			return false; // input type ="submit"
		}
		
		/* 비밀번호 표시 : 보이기 / 감추기 이벤트 
			1. 비밀번호 표시 체크박스 객체 가져오기
			2. 비밀번호 객체 가져오기
			3. 비밀번호 확인 객체 가져오기
			4. 체크박스 체킹(checked == true)
				=> type='text'
			5. 체크박스 해제(checked == false)
		*/ 
		function viewMemberPw() {
			var viewMemberPwElement = document.getElementById("btnViewMemberPw");
			var memberPwElement = document.getElementById("memberPw");
			var memberPwConfirmElement = document.getElementById("memberPwConfirm");
			
			if(viewMemberPwElement.checked) {
				memberPwElement.type = "text";
				memberPwConfirmElement.type = "text";
			} else {
				memberPwElement.type = "password";
				memberPwConfirmElement.type = "password";
			}
			
		}
		
		/* 이메일 
			1. 이메일 항목 전부 입력시 뒷부분 필요없음
			2. 이메일 뒷부분 선택시
			3. 앞에 @ ~ 자르고 뒷부분 선택
			4. 선택한 구문 집어넣기
			
		*/	
		function changeEmail() {
			var emailElement = document.getElementById("emailChanger");	
			var email2Element = document.getElementById("input_email2");
			
			if(emailElement == "네이버") {
				email2Element.value = "@naver.com";
			}
		}		
			
		// 이 부분을 추가하면 action 으로 이동하지 않아서 console 확인 가능	
		// return false;
		}
	
</script>		
</head>

<body>
<div class="input_location">	
<h3>JavaScript Form Valid</h3>
</div>
<!--  
	## form 입력양식
		-- 아이디 : 텍스트
		-- 비밀번호 / 비밀번호 확인 : 비밀번호
		-- 비밀번호 표시 : 체크박스
		-- 이메일 : 이메일아이디/ 도메인주소/ 도메인선택
		-- 관심분야 : 체크박스(항목 5개)
		-- 자기소개 : textarea
		
		-- 확인전용버튼 : submit
		-- 취소전용버튼 : reset
 -->
 
 <form action="result.html" method="post" name="joinForm" id="joinForm">
	<!-- 아이디 -->
	<div class="input_location">	
	<input type="text" name="memberId" id="memberId"
	placeholder="아이디" class="input_box">
	<span id="memberIdMsg"></span>
	</div>
	
	<!-- 비밀번호 -->
	<div class="input_location">
	<input type="password" name="memberPw" id="memberPw" placeholder="비밀번호" class="input_box">
	<span id="memberPwMsg"></span>
	</div>
	
	<!-- 비밀번호 확인 -->
	<div class="input_location">
	<input type="password" name="memberPwConfirm" id="memberPwConfirm"
	placeholder="비밀번호 확인" class="input_box">
	<span id="memberPwConfirmMsg"></span>
	
	<!-- 비밀번호 보이기 -->
	<input type="checkbox" name="btnViewMemberPw"  id="btnViewMemberPw"	onclick="viewMemberPw()"> 비밀번호 보이기
	</div>
	

	
	<div class="input_location">
	<input type="text" name="email1" id="input_email1"
	placeholder="이메일" class="input_email1" >
	<input type="text" name="email2" id="input_email2"
	placeholder="도메인주소" class="input_email2" >
	<select name="emailChanger" id="emailChanger" onchange = "changeEmail()">
    <option value="">직접입력</option>
    <option value="@naver.com" id="naver">naver</option>
    <option value="@gmail.com" id="gmail">gmail</option>
	</select>
	</div>
	<div class="input_location">
	관심분야<br>
	<input type="checkbox" name="interestJava"> JAVA
	<input type="checkbox" name="interestSql"> SQL
	<input type="checkbox" name="interestHtml"> HTML
	<input type="checkbox" name="interestCss"> CSS
	<input type="checkbox" name="interestSpring"> SPRING
	</div>
	<div class="input_location">
	자기소개<br>
	<input type="text" name="memberId"
	placeholder="자기소개" class="selfIntroduction">
	
	<div class="input_location">
	<input type="submit" value="확인" class="btn_submit" onclick="return checkForm();">
	</div>
	<div class="input_location">
	<input type="reset" value="취소" class="reset" onclick="clickReset()">
	</div>
	
</form>
</body>
</html>